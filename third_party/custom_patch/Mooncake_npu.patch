diff --git a/CMakeLists.txt b/CMakeLists.txt
index 047ae3e..b4ae201 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -16,7 +16,7 @@ option(WITH_STORE "build mooncake store library and sample code" ON)
 option(WITH_P2P_STORE "build p2p store library and sample code" OFF)
 option(WITH_RUST_EXAMPLE "build the Rust interface and sample code for the transfer engine" OFF)
 
-add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/extern/pybind11)
+#add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/extern/pybind11)
 set(PYTHON_EXECUTABLE "python3")
 execute_process(
     COMMAND ${PYTHON_EXECUTABLE} -c "import sys; print(sys.path[-1])"
diff --git a/mooncake-common/common.cmake b/mooncake-common/common.cmake
index 4a25227..f5d82dd 100644
--- a/mooncake-common/common.cmake
+++ b/mooncake-common/common.cmake
@@ -59,7 +59,7 @@ option(BUILD_UNIT_TESTS "Build unit tests" ON)
 option(USE_CUDA "option for enabling gpu features" OFF)
 option(USE_NVMEOF "option for using NVMe over Fabric" OFF)
 option(USE_TCP "option for using TCP transport" ON)
-option(USE_ASCEND "option for using npu with HCCL" OFF)
+option(USE_ASCEND "option for using npu with HCCL" ON)
 option(USE_ASCEND_DIRECT "option for using ascend npu with adxl engine" OFF)
 option(USE_ASCEND_HETEROGENEOUS "option for transferring between ascend npu and gpu" OFF)
 option(USE_MNNVL "option for using Multi-Node NVLink transport" OFF)
diff --git a/mooncake-store/CMakeLists.txt b/mooncake-store/CMakeLists.txt
index 8483085..9d263dd 100644
--- a/mooncake-store/CMakeLists.txt
+++ b/mooncake-store/CMakeLists.txt
@@ -20,5 +20,7 @@ include_directories(
 
 # Add subdirectories
 add_subdirectory(src)
-add_subdirectory(tests)
+if (BUILD_UNIT_TESTS)
+  add_subdirectory(tests)
+endif()
 add_subdirectory(benchmarks)
\ No newline at end of file
diff --git a/mooncake-store/include/offset_allocator/offset_allocator.hpp b/mooncake-store/include/offset_allocator/offset_allocator.hpp
index b6d55c8..2d80158 100644
--- a/mooncake-store/include/offset_allocator/offset_allocator.hpp
+++ b/mooncake-store/include/offset_allocator/offset_allocator.hpp
@@ -6,7 +6,7 @@
 #include <optional>
 #include <glog/logging.h>
 
-#include "mutex.h"
+#include "../mutex.h"
 
 namespace mooncake::offset_allocator {
 typedef unsigned char uint8;
diff --git a/mooncake-store/include/types.h b/mooncake-store/include/types.h
index 077926b..b36862b 100644
--- a/mooncake-store/include/types.h
+++ b/mooncake-store/include/types.h
@@ -8,7 +8,10 @@
 #include <unordered_map>
 #include <vector>
 
-#include "Slab.h"
+#include "cachelib_memory_allocator/Slab.h"
+namespace iguana {
+using std::contiguous_iterator;
+}
 #include "ylt/struct_json/json_reader.h"
 #include "ylt/struct_json/json_writer.h"
 
diff --git a/mooncake-store/src/ha_helper.cpp b/mooncake-store/src/ha_helper.cpp
index 796838a..8e72b80 100644
--- a/mooncake-store/src/ha_helper.cpp
+++ b/mooncake-store/src/ha_helper.cpp
@@ -1,3 +1,6 @@
+#pragma GCC push_options
+#pragma GCC optimize("O0")
+
 #include "ha_helper.h"
 #include "etcd_helper.h"
 #include "rpc_service.h"
@@ -174,4 +177,6 @@ MasterServiceSupervisor::~MasterServiceSupervisor() {
     }
 }
 
-}  // namespace mooncake
\ No newline at end of file
+}  // namespace mooncake
+
+#pragma GCC pop_options
\ No newline at end of file
diff --git a/mooncake-store/src/rpc_service.cpp b/mooncake-store/src/rpc_service.cpp
index f515671..7a019b6 100644
--- a/mooncake-store/src/rpc_service.cpp
+++ b/mooncake-store/src/rpc_service.cpp
@@ -1,3 +1,6 @@
+#pragma GCC push_options
+#pragma GCC optimize("O0")
+
 #include "rpc_service.h"
 
 #include <ylt/struct_json/json_reader.h>
@@ -571,4 +574,6 @@ void RegisterRpcService(
         &wrapped_master_service);
 }
 
-}  // namespace mooncake
\ No newline at end of file
+}  // namespace mooncake
+
+#pragma GCC pop_options
\ No newline at end of file
diff --git a/mooncake-store/src/utils.cpp b/mooncake-store/src/utils.cpp
index 9678f57..f41eb10 100644
--- a/mooncake-store/src/utils.cpp
+++ b/mooncake-store/src/utils.cpp
@@ -1,6 +1,6 @@
 #include "utils.h"
 
-#include <Slab.h>
+#include "cachelib_memory_allocator/Slab.h"
 #include <glog/logging.h>
 #include <netinet/in.h>
 #include <sys/socket.h>
diff --git a/mooncake-store/tests/CMakeLists.txt b/mooncake-store/tests/CMakeLists.txt
index 421ed47..fc6f598 100644
--- a/mooncake-store/tests/CMakeLists.txt
+++ b/mooncake-store/tests/CMakeLists.txt
@@ -106,8 +106,8 @@ target_link_libraries(offset_allocator_test PUBLIC
 )
 add_test(NAME offset_allocator_test COMMAND offset_allocator_test)
 
-add_executable(utils_test utils_test.cpp)
-target_link_libraries(utils_test PUBLIC
+add_executable(mc_utils_test utils_test.cpp)
+target_link_libraries(mc_utils_test PUBLIC
     mooncake_store
     cachelib_memory_allocator
     glog
@@ -115,7 +115,7 @@ target_link_libraries(utils_test PUBLIC
     gtest_main
     pthread
 )
-add_test(NAME utils_test COMMAND utils_test)
+add_test(NAME mc_utils_test COMMAND mc_utils_test)
 
 add_executable(client_buffer_test client_buffer_test.cpp)
 target_link_libraries(client_buffer_test PUBLIC
diff --git a/mooncake-transfer-engine/src/common/base/CMakeLists.txt b/mooncake-transfer-engine/src/common/base/CMakeLists.txt
index de7e35d..5d44865 100644
--- a/mooncake-transfer-engine/src/common/base/CMakeLists.txt
+++ b/mooncake-transfer-engine/src/common/base/CMakeLists.txt
@@ -9,4 +9,5 @@ list(
   ${CMAKE_CURRENT_LIST_DIR}/status.cpp)
 
 # # Build all the source files of base dir into a static lib('base')
-add_library(base STATIC ${SRC})
\ No newline at end of file
+add_library(base STATIC ${SRC})
+target_link_libraries(base PRIVATE glog::glog)
\ No newline at end of file
diff --git a/mooncake-transfer-engine/src/transport/ascend_transport/CMakeLists.txt b/mooncake-transfer-engine/src/transport/ascend_transport/CMakeLists.txt
index bde573d..ec8217f 100644
--- a/mooncake-transfer-engine/src/transport/ascend_transport/CMakeLists.txt
+++ b/mooncake-transfer-engine/src/transport/ascend_transport/CMakeLists.txt
@@ -8,6 +8,10 @@ else ()
 endif ()
 
 add_library(ascend_transport OBJECT ${ASCEND_SOURCES})
+if (USE_ASCEND)
+    target_link_libraries(ascend_transport PRIVATE ascend_transport_mem glog::glog)
+endif ()
+
 
 set_target_properties(ascend_transport
                       PROPERTIES
diff --git a/mooncake-transfer-engine/src/transport/ascend_transport/hccl_transport/ascend_transport_c/CMakeLists.txt b/mooncake-transfer-engine/src/transport/ascend_transport/hccl_transport/ascend_transport_c/CMakeLists.txt
index 06ea0ff..68934f4 100644
--- a/mooncake-transfer-engine/src/transport/ascend_transport/hccl_transport/ascend_transport_c/CMakeLists.txt
+++ b/mooncake-transfer-engine/src/transport/ascend_transport/hccl_transport/ascend_transport_c/CMakeLists.txt
@@ -5,9 +5,9 @@ set(CMAKE_POSITION_INDEPENDENT_CODE OFF)
 string(REPLACE "-O3" "" CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
 string(REPLACE "-O3" "" CMAKE_C_FLAGS "${CMAKE_C_FLAGS}")
 
-add_library(ascend_transport_mem SHARED  ${ASCEND_TRANSPORT_MEM_SOURCES})
+add_library(ascend_transport_mem STATIC ${ASCEND_TRANSPORT_MEM_SOURCES})
 set_target_properties(ascend_transport_mem PROPERTIES POSITION_INDEPENDENT_CODE ON)
-target_link_libraries(ascend_transport_mem PRIVATE hccl ascendcl glog gflags)
+target_link_libraries(ascend_transport_mem PRIVATE hccl hccl_plf ascendcl glog::glog gflags::gflags)
 
 target_compile_options(ascend_transport_mem BEFORE PRIVATE "-std=c++11" "-fstack-protector-strong" "-s" "-Wl,-z,relro" "-Wl,-z,now" "-Wl,-z,noexecstack" "-Wl,--copy-dt-needed-entries" "-DOPEN_BUILD_PROJECT" "-DLOG_CPP" "-D_GLIBCXX_USE_CXX11_ABI=0")
 target_link_options(ascend_transport_mem BEFORE PRIVATE "-std=c++11" "-fstack-protector-strong" "-s" "-Wl,-z,relro" "-Wl,-z,now" "-Wl,-z,noexecstack" "-Wl,--copy-dt-needed-entries" "-DOPEN_BUILD_PROJECT" "-DLOG_CPP" "-D_GLIBCXX_USE_CXX11_ABI=0")
diff --git a/mooncake-transfer-engine/src/transport/tcp_transport/CMakeLists.txt b/mooncake-transfer-engine/src/transport/tcp_transport/CMakeLists.txt
index 23fa1b4..7c6a0f0 100644
--- a/mooncake-transfer-engine/src/transport/tcp_transport/CMakeLists.txt
+++ b/mooncake-transfer-engine/src/transport/tcp_transport/CMakeLists.txt
@@ -1,4 +1,4 @@
 file(GLOB TCP_SOURCES "*.cpp")
 
 add_library(tcp_transport OBJECT ${TCP_SOURCES})
-target_link_libraries(tcp_transport PRIVATE JsonCpp::JsonCpp yalantinglibs::yalantinglibs)
+target_link_libraries(tcp_transport PRIVATE JsonCpp::JsonCpp glog::glog yalantinglibs::yalantinglibs)
